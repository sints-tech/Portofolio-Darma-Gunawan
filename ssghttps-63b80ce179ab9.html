import r,{useState as t,useEffect as e,useMemo as n,useRef as o}from"react";import{useRouter as a,RenderTarget as s,inferInitialRouteFromPath as u}from"framer";var i,d={exports:{}},l={};d.exports=function(){if(i)return l;i=1;var t=r,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function
u(r,t,n){var u,i={},d=null,l=null;for(u in void 0!==n&&(d=""+n),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,u)&&!s.hasOwnProperty(u)&&(i[u]=t[u]);if(r&&r.defaultProps)for(u in t=r.defaultProps)void 0===i[u]&&(i[u]=t[u]);return{$$typeof:e,type:r,key:d,ref:l,props:i,_owner:a.current}}return
l.Fragment=n,l.jsx=u,l.jsxs=u,l}();var c=d.exports;const f=window?.FramerAuth?window.FramerAuth:null,p=r=>{if(f){const[n,o]=t(f.getStoreState());return e((()=>{const t=f.subscribe((r=>{o(r)}),r);return()=>{t()}}),[r]),{store:n,setStore:f.setStoreState,getCurrentStore:f.getStoreState}}{const
r={user:null,isAuthenticated:!1,isLoaded:!1};return{store:r,setStore:()=>{},getCurrentStore:()=>r}}},w=()=>"undefined"!=typeof window&&window.FramerAuth;function S(r,t,e=!0){return o=>{const{store:a,setStore:s,getCurrentStore:u}=p(["user.data"]),i=n((()=>{if(!a.user?.data)return!1;return!0===Object.entries(a.user.data).some((([r,n])=>r.startsWith(`${t}:`)&&n===e))}),[a.user?.data])?null:"Empty
State";return c.jsx(r,{...o,variant:i})}}function v(r,t,a=!0){return s=>{const{store:u,setStore:i,getCurrentStore:d}=p([`user.data.${t}:${s?.slug}`]),l=o(null),f=n((()=>`${t}:${s?.slug}`),[s]),w=n((()=>!!g()||!(!f||!u?.user?.data)&&u?.user?.data?.[f]===a),[u,f]);e((()=>{if(l.current){const
r=l.current.parentElement;if(!r)return;r.style.display=w?"":"none"}}),[l.current,w]);return n((()=>!0!==w?c.jsx("div",{ref:l}):c.jsx(r,{ref:l,...s})),[s,w,void 0])}}function y(r,t,e=!0){return o=>{const s=a(),{store:i,setStore:d,getCurrentStore:l}=p([`user.data.${t}:${o?.slug}`]),f=n((()=>`${t}:${o?.slug}`),[o]),S=n((()=>void
0!==i?.user?.data&&i?.user?.data?.[f]===e),[i?.user?.data?.[f],f]),v=n((()=>S?o?.variant:void 0),[S,o?.variant]);return i.user?c.jsx(r,{...o,variant:v,onClick:async r=>{try{if(!w())throw new Error("FramerAuth library not found.");if(!0===S){window.FramerAuth.patchUserData({[f]:null}).then((({data:r,error:e})=>{if(e)throw
console.log(e),new Error(`Error updating ${t} status.`)}));const r=l(),e=void 0===r?.user?.data?{}:{...r.user.data,[f]:null},n={...r.user,data:e};d({user:n},[`user.data.${f}`])}else{window.FramerAuth.patchUserData({[f]:e}).then((({data:r,error:e})=>{if(e)throw
console.log(e),new Error(`Error updating ${t} status.`)}));const r=l(),n=void 0===r?.user?.data?{}:{...r.user.data,[f]:e},a={...r.user,data:n};if(d({user:a},[`user.data.${f}`]),o?.link){const[r,t]=o.link.split("#"),{routeId:e,pathVariables:n}=u(s.routes,r);e&&s.navigate(e,t,n)}}}catch(r){console.error(r)}}}):null}}function
g(){return s.current()===s.canvas}function h(){return s.current()===s.preview}function m(r){return t=>{const{style:e,...n}=t;return c.jsx(r,{...n,style:{...e,gridAutoRows:"auto"}})}}export{g as isCanvas,h as isPreview,m as withDynamicGridHeight,v as withIsTagged,S
as withTags,y as withToggleTag};